(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{1957:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>w});var n=r(5155),a=r(2544),l=r(6942),t=r(5653),c=r(3998),i=r(1052),o=r(5142),d=r(6948),m=r(2619),x=r.n(m),u=r(854),h=r(63),j=r(2115),p=r(5894),f=r(2033);let g=t.Ik({name:t.Yj().min(2,{message:"Name must be at least 2 characters."}),username:t.Yj().min(3,{message:"Username must be at least 3 characters."}),email:t.Yj().email({message:"Invalid email address."}),password:t.Yj().min(6,{message:"Password must be at least 6 characters."})});function w(){let{register:e,isAuthenticated:s}=(0,u.A)(),r=(0,h.useRouter)(),{toast:t}=(0,p.dj)(),[m,w]=(0,j.useState)(!1);(0,j.useEffect)(()=>{s&&r.push("/books")},[s,r]);let N=(0,a.mN)({resolver:(0,l.u)(g),defaultValues:{name:"",username:"",email:"",password:""}});async function b(s){w(!0);try{await e(s.name,s.username,s.email,s.password),t({title:"Registration Successful",description:"Welcome! You can now log in."}),r.push("/login")}catch(e){t({variant:"destructive",title:"Registration Failed",description:e instanceof Error?e.message:"An unknown error occurred."}),w(!1)}}return(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background py-12",children:(0,n.jsxs)(d.Zp,{className:"w-full max-w-sm",children:[(0,n.jsxs)(d.aR,{children:[(0,n.jsx)(d.ZB,{className:"text-2xl font-headline",children:"Create an Account"}),(0,n.jsx)(d.BT,{children:"Join LetterBook and start tracking your reads."})]}),(0,n.jsxs)(d.Wu,{children:[(0,n.jsx)(i.lV,{...N,children:(0,n.jsxs)("form",{onSubmit:N.handleSubmit(b),className:"space-y-4",children:[(0,n.jsx)(i.zB,{control:N.control,name:"name",render:e=>{let{field:s}=e;return(0,n.jsxs)(i.eI,{children:[(0,n.jsx)(i.lR,{children:"Name"}),(0,n.jsx)(i.MJ,{children:(0,n.jsx)(o.p,{placeholder:"John Doe",...s})})," animating",(0,n.jsx)(i.C5,{})]})}}),(0,n.jsx)(i.zB,{control:N.control,name:"username",render:e=>{let{field:s}=e;return(0,n.jsxs)(i.eI,{children:[(0,n.jsx)(i.lR,{children:"Username"}),(0,n.jsx)(i.MJ,{children:(0,n.jsx)(o.p,{placeholder:"johndoe",...s})}),(0,n.jsx)(i.C5,{})]})}}),(0,n.jsx)(i.zB,{control:N.control,name:"email",render:e=>{let{field:s}=e;return(0,n.jsxs)(i.eI,{children:[(0,n.jsx)(i.lR,{children:"Email"}),(0,n.jsx)(i.MJ,{children:(0,n.jsx)(o.p,{placeholder:"name@example.com",...s})}),(0,n.jsx)(i.C5,{})]})}}),(0,n.jsx)(i.zB,{control:N.control,name:"password",render:e=>{let{field:s}=e;return(0,n.jsxs)(i.eI,{children:[(0,n.jsx)(i.lR,{children:"Password"}),(0,n.jsx)(i.MJ,{children:(0,n.jsx)(o.p,{type:"password",placeholder:"••••••••",...s})}),(0,n.jsx)(i.C5,{})]})}}),(0,n.jsxs)(c.$,{type:"submit",className:"w-full",disabled:m,children:[m&&(0,n.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign Up"]})]})}),(0,n.jsxs)("div",{className:"mt-4 text-center text-sm",children:["Already have an account?"," ",(0,n.jsx)(x(),{href:"/login",className:"underline text-primary",children:"Login"})]}),(0,n.jsx)("div",{className:"mt-2 text-center text-sm",children:(0,n.jsx)(x(),{href:"/",className:"underline text-sm text-muted-foreground",children:"Back to Home"})})]})]})})}},8443:(e,s,r)=>{Promise.resolve().then(r.bind(r,1957))}},e=>{e.O(0,[909,619,977,310,271,441,255,358],()=>e(e.s=8443)),_N_E=e.O()}]);